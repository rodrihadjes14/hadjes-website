<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hadjes Propiedades - Bienes Raíces en Argentina</title>
  <meta name="description" content="Hadjes Propiedades - Encuentra tu hogar ideal en Buenos Aires, Mar del Plata, y más." />
  <link rel="stylesheet" href="style.css" />  
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@500;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BTJN1VZ617"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BTJN1VZ617');
</script>
</head>
  
<body>

<!---FILTER BAR AND LOGO ---->
  
  <header>
  <div class="header-logo-and-search">
      <a href="index.html" class="brand-button">HADJES</a>
    
    <div class="header-right">
    <div class="filter-bar">
      <div class="filter-options">
      <label><input type="radio" name="operation" value="venta"> VENTA</label>
      <label><input type="radio" name="operation" value="alquiler"> ALQUILER</label>
      <label><input type="radio" name="operation" value="temporal"> ALQUILER TEMPORAL</label>
    </div>

    <select class="property-type" name="type">
      <option value="">Propiedad</option>
      <option value="casa">Casa</option>
      <option value="departamento">Departamento</option>
      <option value="edificio">Edificio</option>
      <option value="cochera">Cochera</option>
      <option value="local">Local</option>
      <option value="oficina">Oficina</option>
      <option value="campo">Campo</option>
      <option value="lote">Lote</option>
    </select>


    <input name="q" type="text" class="search-input" placeholder="Ubicación / Location, keyword..." /> 
    <button id="search-button" class="search-button">Buscar</button>
  </div>
      <nav class="header-links" aria-label="Páginas del sitio">
        <a href="who-we-are.html">Quiénes Somos</a>
        <a href="contact.html">Hacé tu consulta</a>
        <a href="work-with-us.html">Trabajá con Nosotros</a>
      </nav>
    </div>
  </div>

  </header>

  <section id="home" class="hero">
  <!-- Video Background -->
  <video autoplay muted loop playsinline class="hero-video">
    <source src="videos/quilmes1.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- Text Overlay -->
  <div class="hero-overlay">
    <h1 class="page-title">HADJES</h1>
    <p>
      Tu socio confiable en transacciones de inmuebles.<br>
    </p>
  </div>
  </section>



<!--- LISTINGS --->

  <section id="properties" class="properties">
    <h2>Propiedades Destacadas</h2>
    <div class="slider-wrapper">
  <div id="slider-listings" class="slider-track">Loading listings…</div>
    </div>
  </section>

<!-- lISTINGS --->
  
<!-- SECTIONS --->
  
<section id="quick-options" class="options-grid">
  <div class="option-box">
    <h3>Ubicación</h3>
    <ul class="option-list">
      <li><a href="listing.html?q=Capital%20Federal">Capital Federal</a></li>
      <li><a href="listing.html?q=Zona%20Norte">Zona Norte</a></li>
      <li><a href="listing.html?q=Zona%20Sur">Zona Sur</a></li>
      <li><a href="listing.html?q=Quilmes">Quilmes</a></li>
    </ul>
  </div>

  <div class="option-box">
    <h3>Tipo de Operación</h3>
    <ul class="option-list">
      <li><a href="listing.html?operation=venta">Venta</a></li>
      <li><a href="listing.html?operation=alquiler">Alquiler</a></li>
      <li><a href="listing.html?operation=temporal">Alquiler Temporal</a></li>
    </ul>
  </div>

  <div class="option-box">
    <h3>Inmueble</h3>
    <ul class="option-list">
      <li><a href="listing.html?type=casa">Casa</a></li>
      <li><a href="listing.html?type=departamento">Departamento</a></li>
      <li><a href="listing.html?type=oficina">Oficina</a></li>
      <li><a href="listing.html?type=local">Local</a></li>
      <li><a href="listing.html?type=cochera">Cochera</a></li>
      <li><a href="listing.html?type=lote">Lote</a></li>
    </ul>
  </div>
</section>

<!-- SECTIONS --->
  
  <!-- Hero Section 2 -->
<section class="hero">
  <video class="hero-video" autoplay muted loop playsinline>
    <source src="videos/hero2.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>
  <div class="hero-overlay">
    <h1>Sobre nosotros</h1>
    <p>  En Hadjes Propiedades, somos expertos en , venta y alquiler de propiedades. 
      Con mas de 30 años de experiencia en la industria, nos convertimos en una de las principales opciones que el mercado considera a la hora de recibir extenso asesoramiento para operaciones inmobiliarias.
      Nos esforzamos por mantener una constante capacitación en materia de bienes raíces tanto dentro como fuera del territorio Nacional, interrelacionándonos con oficinas y profesionales extrangeros y analizando los datos económicos
      para darle a nuestros clientes la más precisas recomendaciones a la hora de tomar determinaciones y moverse en el mercado.
      </p>
  </div>
</section>

  
  
  <section id="about">
    <h2>Sobre Nosotros</h2>
    <p>
      En Hadjes Propiedades, somos expertos en , venta y alquiler de propiedades. 
      Con mas de 30 años de experiencia en la industria, nos convertimos en una de las principales opciones que el mercado considera a la hora de recibir extenso asesoramiento para operaciones inmobiliarias.
      Nos esforzamos por mantener una constante capacitación en materia de bienes raíces tanto dentro como fuera del territorio Nacional, interrelacionándonos con oficinas y profesionales extrangeros y analizando los datos económicos
      para darle a nuestros clientes la más precisas recomendaciones a la hora de tomar determinaciones y moverse en el mercado.
      
      <br />
    </p>
  </section>
  
  
  <!-- === Formulario de tasación === -->
<form action="https://script.google.com/macros/s/AKfycbw1Ym8j9GPn38p3kXIQ50X152gIg417owhEnIGUcdBhd2qMK_Mo7vTQQozWOoOoLPu8wQ/exec" method="POST" accept-charset="UTF-8">
  <!-- Campos visibles -->
  <label>Nombre
    <input type="text" name="nombre" required>
  </label>
  <label>Email
    <input type="email" name="email" required>
  </label>
  <label>Teléfono
    <input type="tel" name="tel">
  </label>
  <label>Zona
    <input type="text" name="zona" placeholder="Belgrano, Palermo, etc.">
  </label>
  <label>Tipo de propiedad
    <input type="text" name="tipo" placeholder="2/3 ambientes, PH, casa…">
  </label>
  <label>Presupuesto (USD)
    <input type="number" name="presupuesto" min="0" step="1000">
  </label>
  <label>Tiempo de compra
    <select name="tiempo_compra">
      <option value="0-3 meses">0-3 meses</option>
      <option value="3-6 meses">3-6 meses</option>
      <option value="6-12 meses">6-12 meses</option>
      <option value=">12 meses">&gt;12 meses</option>
    </select>
  </label>
  <label>Interés
    <select name="interes">
      <option value="alto">alto</option>
      <option value="medio">medio</option>
      <option value="bajo">bajo</option>
    </select>
  </label>

  <!-- Hidden: seguridad básica y metadata -->
  <input type="hidden" name="token" value="hadjes_sdfdsgnjkwernbwjik348534unn">
  <input type="hidden" name="owner" value="Rodrigo">

  <!-- Honeypot anti-bot (no remover) -->
  <div style="position:absolute;left:-5000px;" aria-hidden="true">
    <label>Dejar vacío: <input type="text" name="website"></label>
  </div>

  <button type="submit">Quiero recibir opciones</button>
</form>


  <section id="contact">
    <h2>Contacto</h2>
    <p>Email: <a href="mailto:info@hadjespropiedades.com">info@hadjespropiedades.com</a></p>
    <p>Teléfono: +54 11 1234-5678</p>
  </section>

<div id="footer-root"></div>
  
  
  
  
<script>
  // Retry helper to handle occasional 502s from backend
  async function fetchWithRetry(url, tries = 3) {
    let lastErr;
    for (let i = 1; i <= tries; i++) {
      try {
        const res = await fetch(url, { cache: 'no-store' });
        if (res.ok) return await res.json();
        console.warn(`Fetch failed with ${res.status} (attempt ${i}/${tries})`);
      } catch (err) {
        lastErr = err;
        console.warn(`Fetch error: ${err.message} (attempt ${i}/${tries})`);
      }
      await new Promise(r => setTimeout(r, i * 600)); // 0.6s, 1.2s, 1.8s
    }
    throw lastErr || new Error('Failed to fetch after retries');
  }

  // Load listings for the HOME slider
  async function fetchListings() {
    let listings = [];
    try {
      listings = await fetchWithRetry('/listings', 3);
    } catch (e) {
      console.error('Could not load listings:', e);
      const slider = document.getElementById('slider-listings');
      if (slider) slider.innerHTML = '<p>Temporarily unavailable. Please try again.</p>';
      return;
    }

    const params = new URLSearchParams(window.location.search);
    const operation = params.get('operation');
    const keyword = (params.get('q') || '').toLowerCase();

    const filtered = listings.filter(listing => {
      const matchOperation = !operation || listing.operation === operation;

      // Safe lowercase
      const title = (listing.title || '').toLowerCase();
      const desc  = (listing.description || '').toLowerCase();
      const loc   = (listing.location || '').toLowerCase();

      const matchKeyword =
        !keyword ||
        title.includes(keyword) ||
        desc.includes(keyword) ||
        loc.includes(keyword);

      return matchOperation && matchKeyword;
    });

    const listingsDiv = document.getElementById('slider-listings');
    if (!listingsDiv) return;
    listingsDiv.innerHTML = '';

    if (filtered.length === 0) {
      listingsDiv.innerHTML = '<p>No matching listings found.</p>';
      return;
    }

    
    // Transform Cloudinary images for sharp 16:9 cards without re-uploading
function cardImageUrl(url) {
  if (!url) return '';
  try {
    const u = new URL(url);
    // Only transform Cloudinary URLs that have the /upload/ segment
    if (u.hostname.includes('cloudinary') && u.pathname.includes('/upload/')) {
      // 16:9 crop, ~800px wide, smart quality/format
      u.pathname = u.pathname.replace('/upload/', '/upload/c_fill,ar_16:9,w_800,q_auto,f_auto/');
      return u.toString();
    }
    return url; // non-Cloudinary or different CDN: leave as-is
  } catch {
    return url;
  }
}

    
    // Render slider cards (safe href/src)
    filtered.forEach(listing => {
  const targetSlug = listing.slug || listing._id || '';
  const href = targetSlug ? `listing.html?slug=${targetSlug}` : '#';

  // Image HTML (hide if fails)
  const displayUrl = cardImageUrl(listing.imageUrl || '');
  const imgTag = displayUrl
  ? `<img class="card-img"
           src="${displayUrl}"
           alt="${(listing.title || '').replace(/"/g,'&quot;')}"
           style="object-fit:cover!important;width:100%;height:100%;"
           onerror="this.style.display='none'">`
  : `<div class="no-img">Sin imagen</div>`;


  // Basic fields
  const title = listing.title || 'Sin título';
  const address = listing.location || '';
  const neighborhood = listing.neighborhood || '';          // optional (if you add it later)
  const coveredM2 = listing.coveredM2 ?? listing.cubiertos ?? ''; // optional
  const totalM2   = listing.totalM2   ?? listing.totales  ?? '';  // optional
  const rooms     = listing.ambientes ?? listing.rooms    ?? '';   // ambientes = rooms
  const bathrooms = listing.bathrooms ?? listing.baños    ?? listing.banos ?? ''; // optional

  // Price formatting (if present)
  const priceNum  = (typeof listing.price === 'number') ? listing.price : null;
  const priceText = priceNum !== null ? new Intl.NumberFormat('es-AR').format(priceNum) : '';

  // Helper to render meta items only when there is a value
  function meta(label, value, unit = '') {
    if (value === '' || value === null || value === undefined) return '';
    const shown = unit ? `${value}${unit}` : value;
    return `<li><span class="meta-label">${label}</span><span class="meta-value">${shown}</span></li>`;
  }

  const metaList = [
    meta('Precio', priceText ? `$ ${priceText}` : ''),
    meta('Dirección', address),
    meta('Barrio', neighborhood),
    meta('Cubiertos', coveredM2, ' m²'),
    meta('Totales', totalM2, ' m²'),
    meta('Ambientes', rooms),
    meta('Baños', bathrooms),
  ].join('');

  const div = document.createElement('div');
  div.className = 'listing-box';
  div.innerHTML = `
    <a href="${href}" class="card" style="text-decoration:none; color:inherit;">
      <div class="card-media">
        ${imgTag}
      </div>
      <div class="card-body">
        <h3 class="card-title">${title}</h3>
        <ul class="card-meta">
          ${metaList}
        </ul>
      </div>
    </a>
  `;
  listingsDiv.appendChild(div);
});

    

    initializeSlider();
  }

  // Seamless infinite slider (desktop: 3 per view, mobile: 1 per view)
  function initializeSlider() {
    const wrapper = document.querySelector('.slider-wrapper');
    const track   = document.querySelector('.slider-track');
    if (!wrapper || !track) return;

    // After rendering, count originals
    const cards = track.querySelectorAll('.listing-box');
    const originalCount = cards.length;
    if (originalCount === 0) return;
    if (originalCount <= 3) return; // not enough to loop nicely

    const MOBILE_BP = 768;
    let perView = window.innerWidth <= MOBILE_BP ? 1 : 3;

    function getGap() {
      const cs = getComputedStyle(track);
      return parseFloat(cs.gap || cs.columnGap || '0') || 0;
    }

    function getStepWidth() {
      if (perView === 1) {
        return wrapper.clientWidth; // move by viewport width on mobile
      } else {
        const gap = getGap();
        const cardW = cards[0].getBoundingClientRect().width;
        return cardW + gap; // desktop: one card + gap
      }
    }

    // --- Seamless loop setup: clone both ends ---
    const originals = Array.from(cards);
    const cloneN = Math.min(perView, originalCount);

    // tail clones (last N) -> prepend
    const tailClones = originals.slice(-cloneN).map(n => {
      const c = n.cloneNode(true); c.classList.add('clone'); return c;
    });
    tailClones.forEach(c => track.insertBefore(c, track.firstChild));

    // head clones (first N) -> append
    const headClones = originals.slice(0, cloneN).map(n => {
      const c = n.cloneNode(true); c.classList.add('clone'); return c;
    });
    headClones.forEach(c => track.appendChild(c));

    // Indices of real slides after inserting clones
    let index = perView;                           // start on first REAL
    const firstReal = perView;
    const lastReal  = perView + originalCount - 1;

    // Teleport control + autoplay id
    let autoplayId = null;
    let isTeleporting = false;

    function goTo(idx, { instant = false } = {}) {
      index = idx;

      if (instant) {
        isTeleporting = true;
        track.style.transition = 'none';
      } else {
        track.style.transition = 'transform 0.5s ease';
      }

      const x = -(index * getStepWidth());
      track.style.transform = `translateX(${x}px)`;

      if (instant) {
        // Force reflow so transform applies immediately w/o transition
        void track.offsetHeight;
        // Re-enable transition next frame and clear flag
        requestAnimationFrame(() => {
          track.style.transition = 'transform 0.5s ease';
          isTeleporting = false;
        });
      }
    }

    function move() {
      if (isTeleporting) return;
      goTo(index + 1);
    }

    // Start positioned at first REAL slide (instant)
    goTo(index, { instant: true });

    // Seamless loop: when we hit clones, teleport to matching real
    track.addEventListener('transitionend', () => {
      if (index > lastReal) {
        goTo(firstReal, { instant: true });
        return;
      }
      if (index < firstReal) {
        goTo(lastReal, { instant: true });
      }
    });

    // Keep alignment on resize
    function handleResize() {
      const newPerView = window.innerWidth <= MOBILE_BP ? 1 : 3;
      if (newPerView !== perView) {
        perView = newPerView;
      }
      goTo(index, { instant: true });
    }
    window.addEventListener('resize', handleResize);

    // Autoplay
    autoplayId = setInterval(move, 3000);
  }

  // Kick things off
  fetchListings();
</script>



<script>
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('search-button');
    if (btn) {
      btn.addEventListener('click', function (e) {
        e.preventDefault();

        const params = new URLSearchParams();

        // ✅ Keyword input
        const q = document.querySelector('input[name="q"]')?.value;
        if (q) params.set('q', q);

        // ✅ Operation radio
        const operation = document.querySelector('input[name="operation"]:checked')?.value;
        if (operation) params.set('operation', operation);

        // ✅ Property type dropdown
        const type = document.querySelector('select[name="type"]')?.value;
        if (type) params.set('type', type);

        // 🚀 Redirect with all selected filters
        window.location.href = `listing.html?${params.toString()}`;
      });
    }
  });
</script>

<script src="/js/footer-loader.js" defer></script>

<!-- WhatsApp chat button -->
<a
  href="https://wa.me/5491130261498?text=Hola%20soy%20interesado%2Fa%20en%20propiedades.%20%C2%BFMe%20asesoran%3F"
  class="wa-float"
  target="_blank"
  rel="noopener noreferrer"
  aria-label="WhatsApp"
  title="Escríbenos por WhatsApp"
>
  <!-- WhatsApp SVG icon -->
  <svg viewBox="0 0 32 32" width="28" height="28" aria-hidden="true">
    <path d="M19.11 17.17c-.27-.14-1.58-.79-1.83-.88-.25-.09-.43-.14-.61.14-.18.27-.7.88-.86 1.06-.16.18-.32.2-.59.07-.27-.14-1.13-.42-2.16-1.34-.79-.7-1.32-1.56-1.48-1.83-.16-.27-.02-.42.12-.55.12-.12.27-.32.41-.48.14-.16.18-.27.27-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.52-.44-.45-.61-.45-.16 0-.34-.02-.52-.02-.18 0-.48.07-.73.34-.25.27-.96.93-.96 2.27s.99 2.63 1.13 2.81c.14.18 1.95 2.98 4.73 4.18.66.29 1.18.46 1.58.59.66.21 1.26.18 1.74.11.53-.08 1.58-.64 1.8-1.26.22-.62.22-1.15.16-1.26-.07-.11-.25-.18-.52-.32zM16.01 28c-2.07 0-4.01-.56-5.7-1.54L6 28l1.58-4.22A11.92 11.92 0 0 1 4 16.03C4 9.38 9.37 4 16.01 4c3.21 0 6.22 1.25 8.49 3.52A11.95 11.95 0 0 1 28 16.03C28 22.67 22.63 28 16.01 28zm9.2-21.2A13.06 13.06 0 0 0 16.01 2C8.27 2 2 8.27 2 16.03c0 2.29.59 4.47 1.7 6.41L2 30l7.73-1.69a13.92 13.92 0 0 0 6.28 1.47c7.74 0 14.01-6.27 14.01-14.03 0-3.75-1.46-7.28-4.21-9.95z" fill="currentColor"/>
  </svg>
</a>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const wa = document.querySelector('.wa-float');
    if (!wa) return;

    const isDebug = location.search.includes('debug=1') || location.hostname === 'localhost';

    wa.addEventListener('click', function () {
      const params = {
        link_url: wa.href,
        position: 'floating_button',
        page_location: location.href
      };
      if (isDebug) params.debug_mode = true; // only when ?debug=1 or localhost
      gtag('event', 'whatsapp_click', params);
    });
  });
</script>

  
  <script>
/* Robust UTM + page + referrer injection */
(function () {
  const UTM_KEYS = ["utm_source","utm_medium","utm_campaign","utm_content","utm_term"];
  const STORE_KEY = "lead_utm";
  const TTL_MS = 90 * 24 * 60 * 60 * 1000; // 90 days

  function parseUTM() {
    const q = new URLSearchParams(location.search);
    const out = {};
    for (const k of UTM_KEYS) {
      const v = q.get(k);
      if (v) out[k] = v.trim();
    }
    out.page_location = location.href;
    out.referrer = document.referrer || "";
    return out;
  }
  function loadSaved() {
    try { return JSON.parse(localStorage.getItem(STORE_KEY) || "{}"); }
    catch { return {}; }
  }
  function save(data) {
    try { localStorage.setItem(STORE_KEY, JSON.stringify({ ...data, _ts: Date.now() })); } catch {}
  }
  function currentTracking() {
    const now = Date.now();
    const fresh = parseUTM();
    let saved = loadSaved();
    if (saved._ts && now - saved._ts > TTL_MS) saved = {};
    const data = { ...saved, ...fresh };
    if (Object.keys(fresh).length) save(data);
    return data;
  }

  function ensureHidden(form, name) {
    let el = form.querySelector(`[name="${name}"]`);
    if (!el) {
      el = document.createElement("input");
      el.type = "hidden";
      el.name = name;
      form.appendChild(el);
    }
    return el;
  }
  function injectHidden(form) {
    const data = currentTracking();
    for (const k of [...UTM_KEYS, "page_location", "referrer"]) {
      const el = ensureHidden(form, k);
      el.value = data[k] || "";
    }
  }

  // Pre-inject on load so even custom fetch(FormData) sees fields
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll("form").forEach(injectHidden);
  });

  // Refresh right before submit
  document.addEventListener("submit", (ev) => {
    const form = ev.target;
    if (form instanceof HTMLFormElement) injectHidden(form);
  }, true);

  // Safety: handle clicks on submit buttons used by custom JS
  document.addEventListener("click", (ev) => {
    const btn = ev.target && ev.target.closest('button, input[type="submit"]');
    if (!btn || !btn.form) return;
    injectHidden(btn.form);
  }, true);

  // For manual fetch payloads: Object.assign(payload, window.getLeadTracking())
  window.getLeadTracking = currentTracking;
})();
</script>

  
<script>
  const WEBAPP_URL = 'https://script.google.com/macros/s/AKfycbzluoCRt2FJ6uNboeZ6FaiKk5fi2uxOTnchXlmbdf54qNVh2R7sNxbXGkDRrHkAzMxs/exec';

  document.getElementById('valuacion-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const fd = new FormData(e.target);
    const phone = (fd.get('whatsapp') || '').replace(/\D/g,'');
    fd.set('whatsapp', phone);
    if (!fd.get('consentimiento')) fd.set('consentimiento','No');

    try {
      await fetch(WEBAPP_URL, { method:'POST', body: fd, mode:'no-cors' });
      document.getElementById('val-msg').hidden = false;
      e.target.reset();
    } catch (err) {
      alert('Error al enviar. Intentá nuevamente.');
      console.error(err);
    }
  });
</script>

  
  



</body>
</html>
